"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,b){b=b||window;for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)});var Modal=function(){function a(){var b=this;_classCallCheck(this,a),this.openers=document.querySelectorAll("[data-target]"),this.modal,this.modalbtnclose,this.modalspanclose=null,this.isOpened=!1,this.scrollBarWidth=window.innerWidth-document.documentElement.clientWidth+"px",this.openers.forEach(function(a){a.addEventListener("click",function(d){d.preventDefault(),b.modal=document.querySelector("[data-modal^=\"".concat(a.getAttribute("data-target"),"\"]")),b.modalclose=b.modal.querySelectorAll(".gfr-modal-close"),b.show(),b.modalclose.forEach(function(a){a.addEventListener("click",function(){return b.hide()})})})}),this.modalShowCallbacks=[],this.modalHideCallbacks=[],this.modalShowCallbacks.push(this.onShow),this.modalHideCallbacks.push(this.onHide),this.bodyOverflow=null,document.addEventListener("click",function(a){return!!(b.opened||b.modal)&&void(a.target==b.modal&&b.hide())}),document.querySelectorAll(".gfr-modal-closer").forEach(function(a){return a.addEventListener("click",function(){return b.hide()})}),document.addEventListener("keyup",function(a){return b.isOpened&&"Escape"===a.key&&b.hide()})}return _createClass(a,[{key:"show",value:function(){var a=this;if(this.isOpened=!0,this.modal.style.display="flex",this.bodyOverflow=document.body.style.overflow,document.body.style.paddingRight=this.scrollBarWidth,document.body.style.overflow="hidden",0<this.modalShowCallbacks.length)for(var b,c=0;c<this.modalShowCallbacks.length;c++)b=this.modalShowCallbacks[c],"function"==typeof b?b(this.modal):null!=b&&console.warn("".concat(b," is not a function."));setTimeout(function(){a.modal.classList.add("gfr-fadeIn"),document.body.classList.add("gfr-modal-open")},20)}},{key:"onModalShow",value:function(a){this.modalShowCallbacks.push(a)}},{key:"onModalHide",value:function(a){this.modalHideCallbacks.push(a)}},{key:"hide",value:function(){var a=this;if(this.isOpened=!1,this.modal.classList.remove("gfr-fadeIn"),document.body.classList.remove("gfr-modal-open"),0<this.modalHideCallbacks.length)for(var b,c=0;c<this.modalHideCallbacks.length;c++)b=this.modalHideCallbacks[c],"function"==typeof b?b(this.modal):null!=b&&console.warn("".concat(b," is not a function."));setTimeout(function(){document.body.style.paddingRight=null,document.body.style.overflow=a.bodyOverflow,a.modal.style.display="none"},300)}}]),a}();document.addEventListener("DOMContentLoaded",function(){window.Gmodal=new Modal});